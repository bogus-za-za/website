
# 接口文档

## 接口规范

### 1. 请求规范
```bash
- **基础URL**: `/api/v1`
- **请求方式**:
  - `GET`: 查询资源
  - `POST`: 创建资源
  - `PUT`: 更新资源
  - `DELETE`: 删除资源
- **Content-Type**: `application/json`
- **请求头**:
  - `Authorization`: Bearer {token} (JWT认证)
```
### 2. 响应规范

所有接口统一返回JSON格式的响应体，结构如下：

```json
{
  "code": 200,      // 状态码：200成功，其他表示错误
  "data": {},       // 业务数据
  "msg": "success"  // 提示信息
}
```

### 3. 分页响应规范

列表查询接口采用统一的分页响应格式：

```json
{
  "code": 200,
  "data": {
    "list": [],     // 数据列表
    "total": 100,   // 总记录数
    "page": 1,      // 当前页码
    "size": 10      // 每页记录数
  },
  "msg": "success"
}
```

### 4. 错误响应规范

错误响应采用统一的格式：

```json
{
  "code": 400,        // 错误状态码
  "msg": "错误描述",  // 错误描述
  "data": null        // 业务数据为空
}
```

## 接口列表


## 状态码说明

| 状态码 | 说明 |
|-------|------|
| 200 | 成功 |
| 400 | 请求参数错误 |
| 401 | 未授权 |
| 403 | 权限不足 |
| 404 | 资源不存在 |
| 500 | 服务器内部错误 |
| 1001 | 用户名或密码错误 |
| 1002 | 账号已被禁用 |
| 1003 | 验证码错误 |
| 1004 | 令牌已过期 |
| 1005 | 令牌无效 |

## 接口鉴权

本系统采用JWT (JSON Web Token) 进行接口鉴权：

1. 用户登录成功后获取token
2. 后续请求在请求头中携带token：`Authorization: Bearer {token}`
3. 服务端验证token的有效性，决定是否允许访问
4. token过期后需要重新登录获取token

## 接口权限控制

本系统采用基于角色的权限控制 (RBAC)：

1. 用户关联角色，角色关联权限
2. 接口通过权限标识进行权限控制
3. 用户请求接口时，检查用户是否拥有对应的权限
4. 权限不足时返回403状态码 